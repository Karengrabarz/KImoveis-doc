{"_type":"export","__export_format":4,"__export_date":"2023-11-12T02:28:41.805Z","__export_source":"insomnia.desktop.app:v2023.5.8","resources":[{"_id":"req_51ec19481bc94e8baf305866de265761","parentId":"fld_2a48ad093f784fc2a2406273c8bd03f0","modified":1699627184696,"created":1698584265223,"url":"{{ _.baseUrl }}/users","name":"Create user","description":"# POST/users\n### Route responsible for user creation\n\n#### All fields are mandatory except admin:\n- name: string;\n- email: string;\n- password: string;\n- admin: boolean(default false);\n\n## Authetication \n- No authentication token required\n\n## Response\n### 201 created\n```json\n{\n    \"id\": 1,\n    \"name\": \"User\",\n    \"email\": \"user2@mail.com\",\n    \"admin\": false,\n    \"createdAt\": \"2023-10-30\",\n    \"updatedAt\": \"2023-10-30\",\n    \"deletedAt\": null\n}\n```\n\n### 400 Bad Request \n```json \n{\n\t\"message\": {\n\t\t\"password\": [\n\t\t\t\"Required\"\n\t\t]\n\t}\n}\n```\n\n### 409 Conflict\n```json\n{\n\t\"message\": \"Email already exists\"\n}\n```","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"name\":\"Admin2\",\n\t\"email\":\"admin2@mail.com\",\n\t\"password\":\"1234\",\n\t\"admin\":true\n\t\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{},"metaSortKey":-1698669964908,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_2a48ad093f784fc2a2406273c8bd03f0","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1699622584526,"created":1698580475927,"name":"Users","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1698685466923,"_type":"request_group"},{"_id":"wrk_d92fe9dfab604788a3d723006f77ba27","parentId":null,"modified":1699450807865,"created":1698580458144,"name":"Kimoveis - projeto final M4","description":"<h3>Aplicação de corretora de imoveis, onde é possivel cadastrar clientes, imoveis e agendar visitas aos imoveis cadastrados.</h3>","scope":"collection","_type":"workspace"},{"_id":"req_71d26b4f1cbd419eb289704de7f4c43b","parentId":"fld_2a48ad093f784fc2a2406273c8bd03f0","modified":1699627232574,"created":1698580480798,"url":"{{ _.baseUrl }}/users","name":"Read all users","description":"## GET/users\n### Route responsible for listing all users\n### No request body required\n## Authentication\n- Administrators only\n\n## Responses\n### 200 OK\n```json\n[\n\t{\n\t\t\"id\": 1,\n\t\t\"name\": \"teste2\",\n\t\t\"email\": \"teste2@mail.com\",\n\t\t\"admin\": true,\n\t\t\"createdAt\": \"2023-11-09\",\n\t\t\"updatedAt\": \"2023-11-09\",\n\t\t\"deletedAt\": null\n\t},\n\t{\n\t\t\"id\": 2,\n\t\t\"name\": \"Karen\",\n\t\t\"email\": \"karen@mail.com\",\n\t\t\"admin\": true,\n\t\t\"createdAt\": \"2023-11-09\",\n\t\t\"updatedAt\": \"2023-11-09\",\n\t\t\"deletedAt\": null\n\t}\n]\n```\n\n### 401 Unauthorized\n```json\n{\n\t\"message\": \"jwt must be provided\"\n}\n```\n\n### 403 Forbidden\n\n```json\n{\n\t\"message\": \"Insufficient permission\"\n}\n```","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}","disabled":false},"metaSortKey":-1698589822944.5625,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_7dd3e34cb54c4365ab968337cf666c40","parentId":"fld_2a48ad093f784fc2a2406273c8bd03f0","modified":1699626071165,"created":1698584551820,"url":"{{ _.baseUrl }}/users/2000","name":"Update user","description":"## PATCH/users/:id\n### Route responsible for updating user data\n- It is allowed to send any field for editing in the body request, except id and admin.\n## Authentication\n- Permission only for administrators or account owners\n## Responses\n\n### 200 OK \n```json \n{\n\t\"id\": 2,\n\t\"name\": \"Osvaldo\",\n\t\"email\": \"osvaldo@mail.com\",\n\t\"admin\": true,\n\t\"createdAt\": \"2023-11-09\",\n\t\"updatedAt\": \"2023-11-10\",\n\t\"deletedAt\": null\n}\n```\n\n### 404 Not found\n#### If id non-exist\n```json \n{\n\t\"message\": \"User not found\"\n}\n```\n\n","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\n\"name\":\"Osvaldo\",\n\"email\":\"osvaldo@mail.com\"\n\t\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}"},"metaSortKey":-1698587151545.7812,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_296a8be424594ea395f68bcdbbf637c5","parentId":"fld_2a48ad093f784fc2a2406273c8bd03f0","modified":1699625600455,"created":1698669964808,"url":"{{ _.baseUrl }}/users/20","name":"Delete user","description":"## DELETE/users/:id \n### Route responsible for soft deleting a user\n### Permission for administrators only\n\n## Response \n\n### 204 No Content\n","method":"DELETE","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}"},"metaSortKey":-1698580480698,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_89eae78cacde46bd9925138079b7ca0f","parentId":"fld_c59c27936468449189593e827b8365c1","modified":1699753224413,"created":1698582799615,"url":"{{ _.baseUrl }}/login","name":"Login","description":"## POST/login\n## Route responsible for generating the authentication token\n\n ### Required:\n - email\n - password\n \n ## Response \n ```json\n{\n\t\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImthcmVuQG1haWwuY29tIiwiYWRtaW4iOnRydWUsImlhdCI6MTY5OTYyMzA4NiwiZXhwIjoxNjk5NjI2Njg2LCJzdWIiOiIyIn0.O93belkLS_MIvtNWWBJGtLaltUPQDfNx2nVEKjPrdq4\"\n}\n```\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\n\t\"email\":\"admin2@mail.com\",\n\t\"password\":\"1234\"\n\t\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{},"metaSortKey":-1698677222422,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_c59c27936468449189593e827b8365c1","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1699629190876,"created":1698582807779,"name":"login","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1698685466873,"_type":"request_group"},{"_id":"req_0d4961ab62be413cb410b62f156ecd98","parentId":"fld_848656fe7b964e1b8fc341c6e0c31925","modified":1699747785158,"created":1698682712995,"url":"{{ _.baseUrl }}/categories","name":"Create category","description":"## POST/categories\n### Route for creating categories with the following data:\n- id: number AUTOINCREMENT. It should not be passed, but generated by TypeORM.\n- name: string, maximum 45 characters, mandatory and unique.\n### Rules\n-\tTwo categories with the same name cannot be registered.\n- The route can only be accessed by admin users.\n### Responses\n### 201 Created\n```json\n{\n\t\"name\": \"Apartment\",\n\t\"id\": 1\n}\n```","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"name\":\"Apartment\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}"},"metaSortKey":-1698683216322,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_848656fe7b964e1b8fc341c6e0c31925","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1699629196016,"created":1698675880445,"name":"categories","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1698685466848,"_type":"request_group"},{"_id":"req_5f12d1f3162741f796b1c03ef2cb43bb","parentId":"fld_848656fe7b964e1b8fc341c6e0c31925","modified":1699755188677,"created":1698683216222,"url":"{{ _.baseUrl }}/categories/1/realEstate","name":"Read all RealEstate by Category","description":"## GET/categories/:id/realEstate\n### Route must list all properties that belong to a category.\n## Authentication\n### The route does not require authentication to be accessed.\n\n## Response\n### 200 - OK\n```json\n{\n\t\"id\": 1,\n\t\"name\": \"Apartment\",\n\t\"realEstate\": [\n\t\t{\n\t\t\t\"id\": 1,\n\t\t\t\"value\": \"1000000.00\",\n\t\t\t\"size\": 150,\n\t\t\t\"sold\": false,\n\t\t\t\"createdAt\": \"2023-11-10\",\n\t\t\t\"updatedAt\": \"2023-11-10\"\n\t\t}\n\t]\n}\n```","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{},"metaSortKey":-1698683216222,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_05fb20449ff44e16a1c3160a6e774d50","parentId":"fld_848656fe7b964e1b8fc341c6e0c31925","modified":1699755973010,"created":1698683190631,"url":"{{ _.baseUrl }}/categories","name":"Read all categories","description":"## GET/categories\n### Route must list all categories.\n## Authentication\n### The route does not require authentication to be accessed.\n## Response \n### 200 - OK\n```json\n[\n\t{\n\t\t\"id\": 1,\n\t\t\"name\": \"Apartment\"\n\t}\n]\n```","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{},"metaSortKey":-1698683190631,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_fd78b73b142a47c1b6863c9a48e5ae30","parentId":"fld_438451f5906d49f8a50c7fb86b4447c9","modified":1699627309969,"created":1698686694389,"url":"{{ _.baseUrl }}/schedules","name":"Create schedule","description":"## POST/schedules\n### Route responsible for scheduling a visit to a property\n### All fields are mandatory except admin:\n - date: string in american format: AAA-MM-DD;\n - hour: string HH:MM;\n - realEstateId: number and integer ;\n \n ### Rules\n - It should not be possible for the same user to schedule a visit to 2 different properties with the same date and time.\n - It should not be possible to schedule a visit to a property with the same date and time.\n - It should only be possible to schedule a visit during business hours (08:00 to 18:00). \n - It should only be possible to schedule a visit during working days (Monday to Friday).\n\n## Authentication\n- Any user\n- Token required\n\n## Responses\n\n### 201 - Created\n\n```json\n{\n\t\"message\": \"Schedule created\"\n}\n```\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"date\":\"2023-11-02\",\n\t\"hour\":\"15:50\",\n\t\"realEstateId\":1 \n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.userToken }}"},"metaSortKey":-1698686694389,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_438451f5906d49f8a50c7fb86b4447c9","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1699451022653,"created":1698685466823,"name":"Schedule","description":"###Como criar agendamentos\n#\nStatus de retorno:\n-200\n-201\n-400","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1698685466823,"_type":"request_group"},{"_id":"req_7c681c02e11f4c5f8c39f9c723b10a7c","parentId":"fld_438451f5906d49f8a50c7fb86b4447c9","modified":1699754583983,"created":1698686690347,"url":"{{ _.baseUrl }}/schedules/realEstate/1","name":"Real Schedules by realEstate ID","description":"## GET/schedules/realEstate/:id \n### Route responsible for listing all appointments for a property.\n## Authentication\n- The route can only be accessed by administrators.\n\n## Responses\n\n### 200 - OK\n```json\n{\n{\n\t\"id\": 1,\n\t\"value\": \"1000000.00\",\n\t\"size\": 150,\n\t\"sold\": false,\n\t\"createdAt\": \"2023-11-10\",\n\t\"address\": {\n\t\t\"street\": \"teste\",\n\t\t\"zipCode\": \"01232010\",\n\t\t\"number\": 1316,\n\t\t\"city\": \"São Paulo\",\n\t\t\"state\": \"SP\"\n\t},\n\t\"schedules\": [\n\t\t{\n\t\t\t\"id\": 1,\n\t\t\t\"date\": \"2023-11-02\",\n\t\t\t\"hour\": \"15:50:00\",\n\t\t\t\"user\": {\n\t\t\t\t\"name\": \"User\",\n\t\t\t\t\"email\": \"user2@mail.com\"\n\t\t\t}\n\t\t}\n\t]\n}\n```\n\n### 404 - Not found\n```json\n{\n\t\"message\": \"RealEstate not found\"\n}\n```\n\n### 403 - Forbidden \n```json\n{\n\t\"message\": \"Insufficient permission\"\n}\n```\n\n\n","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}"},"metaSortKey":-1698686690347,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_3ab4ca2abf2545cf81a1b06ec09f047a","parentId":"fld_1cdd774de0a14094802fcf3138c21fa3","modified":1699755654771,"created":1698683360154,"url":"{{ _.baseUrl }}/realEstate","name":"Create realEstate","description":"## POST/realEstate\n### Route to create a property with the following data:\n- id: number AUTOINCREMENT. It should not be passed, but generated by TypeORM.\n- value: decimal, precision 12 and scale 2, mandatory and 0 by default.\n  - When we work with decimal, it can be a number or string, take this into consideration when typing and validating.\n- size: integer and required\n- address: an object with the following data:\n  - street: string, maximum 45 characters and mandatory.\n  - zipCode: string, maximum 8 characters and mandatory.\n  - number: number, integer, positive and mandatory.\n\t- city: string, maximum 20 characters and mandatory.\n  - state: string, maximum 2 characters and mandatory.\n- categoryId: number, integer and mandatory.\n- sold: Must not be passed, but generated at the time of data validation in boolean format with false by default.\n- createdAt: Must not be passed, but generated by TypeORM.\n- updatedAt: Should not be passed, but generated by TypeORM.\n## Rules\nTwo properties cannot be registered with the same address.\n## Authentication\nThe route can only be accessed by administrators.\n\n## Response \n### 201 - Created\n```json \n{\n\t\"value\": \"1000000.00\",\n\t\"size\": 150,\n\t\"sold\": false,\n\t\"address\": {\n\t\t\"street\": \"teste\",\n\t\t\"zipCode\": \"01232010\",\n\t\t\"number\": 1316,\n\t\t\"city\": \"São Paulo\",\n\t\t\"state\": \"SP\",\n\t\t\"id\": 1\n\t},\n\t\"categoryId\": 1,\n\t\"category\": {\n\t\t\"id\": 1,\n\t\t\"name\": \"Apartment\"\n\t},\n\t\"id\": 1,\n\t\"createdAt\": \"2023-11-10\",\n\t\"updatedAt\": \"2023-11-10\"\n}\n```\n\t\n\t\n\t\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"value\":1000000,\n\t\"size\":150,\n\t\"address\":{\n\t\t\"street\":\"teste\",\n\t\t\"zipCode\":\"01232010\",\n\t\t\"number\":1316,\n\t\t\"city\":\"São Paulo\",\n\t\t\"state\":\"SP\"\n\t},\n\t\"categoryId\":1\n\t\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{"type":"bearer","token":"{{ _.adminToken }}"},"metaSortKey":-1698692057250,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_1cdd774de0a14094802fcf3138c21fa3","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1698683294348,"created":1698683294348,"name":"realEstate","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1698683294348,"_type":"request_group"},{"_id":"req_4fb7b7c095bb4c1aa6c01cb5d2e70b2a","parentId":"fld_1cdd774de0a14094802fcf3138c21fa3","modified":1699755792234,"created":1698692057150,"url":"{{ _.baseUrl }}/realEstate","name":"Read realEstates","description":"## GET/realEstate\n### Route must list all properties.\n## Authentication\n### The route does not require authentication to be accessed.\n\n## Response\n### 200 - OK\n```json \n[\n\t{\n\t\t\"id\": 1,\n\t\t\"value\": \"1000000.00\",\n\t\t\"size\": 150,\n\t\t\"sold\": false,\n\t\t\"createdAt\": \"2023-11-10\",\n\t\t\"updatedAt\": \"2023-11-10\",\n\t\t\"address\": {\n\t\t\t\"id\": 1,\n\t\t\t\"street\": \"teste\",\n\t\t\t\"zipCode\": \"01232010\",\n\t\t\t\"number\": 1316,\n\t\t\t\"city\": \"São Paulo\",\n\t\t\t\"state\": \"SP\"\n\t\t}\n\t}\n]\n```","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/2023.5.8"}],"authentication":{},"metaSortKey":-1698692057150,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_b229e4130587a962588020a598227a48c74ebc4d","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1699753238954,"created":1698580458153,"name":"Base Environment","data":{"baseUrl":"http://localhost:3000","adminToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluMkBtYWlsLmNvbSIsImFkbWluIjp0cnVlLCJpYXQiOjE2OTk3NTMyMjYsImV4cCI6MTY5OTc1NjgyNiwic3ViIjoiNiJ9.gzwWUQVk71h_N58X2LpeMRPdMaBQ3Vf0Sq1R6sGkqc4","userToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQG1haWwuY29tIiwiYWRtaW4iOmZhbHNlLCJpYXQiOjE2OTk2Mjg1NTIsImV4cCI6MTY5OTYzMjE1Miwic3ViIjoiNSJ9.u4sEz0DY-_5sD5FnBQeOKerSviTqU5aYS5mq9N77mVY"},"dataPropertyOrder":{"&":["baseUrl","adminToken","userToken"]},"color":null,"isPrivate":false,"metaSortKey":1698580458153,"_type":"environment"},{"_id":"jar_b229e4130587a962588020a598227a48c74ebc4d","parentId":"wrk_d92fe9dfab604788a3d723006f77ba27","modified":1698580458155,"created":1698580458155,"name":"Default Jar","cookies":[],"_type":"cookie_jar"}]}